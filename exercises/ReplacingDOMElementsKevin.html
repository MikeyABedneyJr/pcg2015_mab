<!DOCTYPE html>
<!-- TODO: Add alphabetize code to script -->
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script>
    function createIndexItem(letter) {
        var hash = letter.toLowerCase();
        var display = letter.toUpperCase();
        var anchorElement = document.createElement("a");
        anchorElement.setAttribute("href", "#" + hash);
        var text = document.createTextNode(display);
        anchorElement.appendChild(text);
        document.body.appendChild(anchorElement);
    }
    a = "a".charCodeAt(0);
    z = "z".charCodeAt(0);
    for (var c = a; c <= z; c++) {
        var letter = String.fromCharCode(c);
        createIndexItem(letter);
    }
    tenants = [
        {
            "name": "Kevin Long",
            "suite": 111
        },
        {
            "name": "Kay Long",
            "suite": 112
        },
        {
            "name": "John Long",
            "suite": 113
        },
        {
            "name": "Jack Richards",
            "suite": 211
        },
        {
            "name": "Arthur Wright",
            "suite": 212
        },
        {
            "name": "abc",
            "suite": 123
        },
        {
            "name": "31 flavors",
            "suite": 231
        },
        {
            "name": "!@#$%^&*()",
            "suite": 213
        }
    ];

for (var a in tenants){
    var b = tenants[a];
    var all_upper = t["name"][0].toUpperCase();
    var name = t.name;
    var words = new RegExp(/^[ a-z]+$/i); 
    //Regular expression to ignore anything not a number the i is case-insensitive

    if (words.test(name)){
        var name_parts = name.split();
        if (name_parts >= 2){
            lastname = name_parts[name_parts.length-1];
            first_letter = lastname[0].toUpperCase();
            // TODO: Add loop to sort all parts
            t.sortname = lastname + name_parts[0];
        }
        else{
            t.sortname = t.name;
    else{
        first_letter = "*";
        t.sortname = t.name;
    }}
}}

var keys = Object.keys(tenants);
    //     // console.log("KEYS BEFORE");
    //     // console.log(keys);
    keys.sort();
    //     // console.log("KEY AFTER");
    //     // console.log(keys);


    var directory = {};
    for (var i in tenants) {
        var t = tenants[i];
        var first_letter = t["name"][0].toUpperCase();
        if (!directory.hasOwnProperty(first_letter)) {
            directory[first_letter] = [];
        }
        directory[first_letter].push(t);

    }
    for (var letter in directory) {
        var d = directory[letter];
        var lower = letter.toLowerCase();
        var head1 = document.createElement("h1");       //creates <h1>
        head1.setAttribute("id", lower);          // adds:  <h1 id = letter lowercased>
        var textinfo = document.createTextNode("===" + letter + "==="); // create text to display
        head1.appendChild(textinfo);     //add:   <h1 id = letter>   "===" + letter + "==="  </h1>
        document.body.appendChild(head1);   // put everything above onto the body of page

        for (i in d) {
            var t = d[i];
            var makelistitem = document.createElement("li");
            makelistitem.setAttribute("id", t);
            var textintolist = document.createTextNode(" " + t["name"] + " " + t["suite"]);
            makelistitem.appendChild(textintolist);
            document.body.appendChild(makelistitem);

        }

    }
    // var newThing = document.createElement("ul");
    // var TextinsideThing = document.createTextNode("Here's the text in the ul");
    // newThing.appendChild(TextinsideThing);
    // document.body.appendChild(newThing);
    // console.log("HIDDEN MESSAGE")
</script>
</body>
</html>